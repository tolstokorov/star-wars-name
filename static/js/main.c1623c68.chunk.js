(this["webpackJsonpstar-wars-name"]=this["webpackJsonpstar-wars-name"]||[]).push([[0],{53:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n(7),u=n.n(c),s=n(8),o=n(6),i=n(2),p=n.n(i),l=n(4),b=n(22),j=n(23),f=n(13),h=n.n(f);!function(e){e.people="people"}(r||(r={}));var O=new(function(){function e(){var t=this;Object(b.a)(this,e),this._resAPI=void 0,this._isInit=void 0,this.init=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t._baseResourceURL).catch((function(){return console.error("\u0421\u0435\u0440\u0432\u0435\u0440 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c API \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d!"),null}));case 2:return t._resAPI=e.sent,e.abrupt("return",t._isInit=!0);case 4:case"end":return e.stop()}}),e)}))),this._baseResourceURL="https://swapi.dev/api/",this.people={getAllData:function(){var e=Object(l.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._getResourceData(r.people);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getData:function(){var e=Object(l.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._getResourceData(r.people,"".concat(n,"/"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},this._resAPI=null,this._isInit=!1}return Object(j.a)(e,[{key:"_getResource",value:function(){var e=Object(l.a)(p.a.mark((function e(t){var n,r,a,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"",r=c.length>2&&void 0!==c[2]?c[2]:"",this._resAPI){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,h.a.get("".concat(this._baseResourceURL).concat(t,"/").concat(n).concat(r)).catch((function(){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435!"),null}));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getResourceData",value:function(){var e=Object(l.a)(p.a.mark((function e(t){var n,r,a,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",r=c.length>2&&void 0!==c[2]?c[2]:"",e.next=4,this._getResource(t,n,r);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),d="INIT",v=function(){return{type:d}},x="NAME",m=function(e){return{type:x,payload:e}},g=function(e){return function(){var t=Object(l.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.people.getData(e);case 2:return r=t.sent,n(m(r?r.name:"Error")),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y="COUNT",w=function(e){return{type:y,payload:e}},I=function(){return function(){var e=Object(l.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.people.getAllData();case 2:return(n=e.sent)&&t(w(n.count)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=n(1),k={name:m,init:v,getOnePeopleName:g,getPeopleCount:I},R=Object(s.b)((function(e){return{personName:e.people.name,peopleCount:e.people.peopleCount,emptyStr:e.people.emptyStr,isInit:e.people.isInit}}),k)((function(e){var t=e.startInputValue,n=e.personName,r=e.peopleCount,c=e.emptyStr,u=e.isInit,s=e.name,i=e.init,p=e.getOnePeopleName,l=e.getPeopleCount,b=Object(a.useState)(t),j=Object(o.a)(b,2),f=j[0],h=j[1],d=Object(a.useState)(!0),v=Object(o.a)(d,2),x=v[0],m=v[1],g=Object(a.useState)(!0),y=Object(o.a)(g,2),w=y[0],I=y[1],k=Object(a.useState)(null),R=Object(o.a)(k,2),P=R[0],A=R[1];return Object(a.useEffect)((function(){!u&&O.init().then((function(){i()})),u&&l().then((function(){I(!1)}))}),[u]),Object(a.useEffect)((function(){u&&(m(!0),""===f?(m(!1),s(c)):p(f).then((function(){m(!1)})))}),[u,f]),Object(_.jsxs)("div",{children:[w&&"loading...",!w&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("small",{children:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c API"}),Object(_.jsx)("h1",{children:Object(_.jsx)("mark",{children:x?"loading...":n||"\xa0"})}),Object(_.jsxs)("label",{children:["\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043c\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430?",Object(_.jsx)("br",{}),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0435\u0433\u043e ID",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsxs)("small",{children:["\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 ID: \u043e\u0442 1 \u0434\u043e ",r," "]}),Object(_.jsx)("br",{}),Object(_.jsx)("small",{children:"(\u0438 \u043d\u0435 \u0432\u043a\u043b\u044e\u0447\u0430\u044f 17) "}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("input",{type:"text",min:r?1:0,max:r||1,value:f||"",onChange:function(e){var t=e.currentTarget.value;if(A(null),""===t)return h(t),void s(c);17!==+t&&+t>0&&r&&+t<=r?h(+t):A(t)}})]}),Object(_.jsx)("br",{}),Object(_.jsx)("small",{children:P&&"".concat(P," - wrong!")})]})]})})),P=n(9),A=n(24),C=n(5),D={name:null,peopleCount:null,emptyStr:"Empty",isInit:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(C.a)(Object(C.a)({},e),{},{name:t.payload});case y:return Object(C.a)(Object(C.a)({},e),{},{peopleCount:t.payload});case d:return Object(C.a)(Object(C.a)({},e),{},{isInit:!0});default:return e}},N=Object(P.c)(Object(P.b)({people:S}),Object(P.a)(A.a));u.a.render(Object(_.jsx)(a.StrictMode,{children:Object(_.jsx)(s.a,{store:N,children:Object(_.jsx)(R,{startInputValue:4})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.c1623c68.chunk.js.map